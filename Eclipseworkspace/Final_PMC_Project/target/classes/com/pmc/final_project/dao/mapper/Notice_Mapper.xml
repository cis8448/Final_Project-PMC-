<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.pmc.final_project.dao.INotice">
	<select id="OM_Notice" resultType="PcRoomNoticeBean"
		parameterType="HashMap">

		SELECT * FROM NOTICE WHERE NO_CATE = #{cate}

	</select>
	<select id="OM_Service" resultType="PcRoomNoticeBean"
		parameterType="HashMap">
		SELECT SE_M_ID AS NO_M_ID,SE_P_ID AS NO_P_ID,SE_NUM AS
		NO_NUM,SE_TITLE AS
		NO_TITLE,SE_CONTENT AS NO_CONTENT,SE_CATE AS NO_CATE
		FROM SERVICE WHERE SE_CATE = #{cate}
	</select>
	<select id="OM_NoticeInfo" parameterType="String"
		resultType="PcRoomNoticeBean">
		SELECT * FROM NOTICE WHERE NO_NUM=#{no_num}
	</select>

	<select id="OM_ServiceInfo" parameterType="String"
		resultType="PcRoomNoticeBean">
		SELECT SE_M_ID AS NO_M_ID,SE_P_ID AS NO_P_ID,SE_NUM AS
		NO_NUM,SE_TITLE AS
		NO_TITLE,SE_CONTENT AS NO_CONTENT,SE_CATE AS NO_CATE
		FROM SERVICE WHERE SE_NUM=#{no_num}
	</select>
	<select id="OMNoticeSearch" parameterType="String"
		resultType="PcRoomNoticeBean">
		SELECT * FROM NOTICE WHERE NO_P_ID LIKE #{res2} OR NO_TITLE
		LIKE #{res2}
	</select>
	
	<insert id="OM_NInsert" parameterType="PcRoomNoticeBean" keyProperty="no_num">
	<selectKey keyProperty="no_num" resultType="int"
			order="BEFORE">
			SELECT NOTICE_SEQ.NEXTVAL FROM DUAL
		</selectKey>
		INSERT INTO NOTICE VALUES (#{no_p_id},${no_num},#{no_title},#{no_content},#{no_date},#{no_cate})
	</insert>

	

</mapper>