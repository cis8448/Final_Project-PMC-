<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

	<mapper namespace="com.pmc.final_project.dao.ISeatDao">
		<select id="selectCount" resultType="int" parameterType="String">
			SELECT COUNT(*) FROM SEAT WHERE S_P_ID = #{id}
		</select>
		<insert id="insertSeat" parameterType="SeatBean">
			INSERT INTO SEAT(S_P_ID , S_ID , S_STATE , S_NORESERVE) VALUES(#{p_id},#{s_id},#{s_state},#{s_noreserve})
		</insert>
		<select id="selectAll" resultType="SeatBean" parameterType="String">
			SELECT * FROM PCUSING WHERE P_ID = #{ID}
		</select>
		<delete id="deleteSeat" parameterType="SeatBean">
			DELETE FROM SEAT WHERE S_ID = #{s_id}
		</delete>
		<update id="UpdateSpec" parameterType="HashMap">
			UPDATE SEAT SET S_SPEC = #{spec} WHERE S_ID = #{p_id}
		</update>
		<select id="selectSpec" parameterType="String" resultType="String">
			SELECT S_SPEC FROM SEAT WHERE S_ID = #{p_id}
		</select>
		<update id="UpdateSeatReserve" parameterType="HashMap">
			UPDATE SEAT SET S_NORESERVE = #{stat} WHERE S_ID = #{s_id} 
		</update>
		<select id="SelectRe" parameterType="String" resultType="String">
			SELECT S_NORESERVE FROM SEAT WHERE S_ID = #{#s_id}
		</select>
		<select id="GetPicture2" resultType="String" parameterType="String">
		SELECT C_CONTENT FROM COMMENTS WHERE C_P_ID = #{id}
	</select>
	<select id="seatSearch" parameterType="String" resultType="String">
		SELECT COUNT(*) FROM SEAT WHERE S_P_ID = #{id}
	</select>
	<select id="useseatSearch" parameterType="String" resultType="String">
		SELECT COUNT(*) FROM SEAT WHERE S_P_ID = #{id} AND S_STATE = '사용' OR S_STATE = '예약'
	</select>
	</mapper>